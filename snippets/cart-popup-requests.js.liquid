// Get Cart
function getCart(func) {
   $.get("/cart.json").done(function (cart) {
    func(cart);  
  })
}

// TOD:
// cartAddItem from Add to Cart button (on product page) is done in theme.js -> _addItemToCart()
function cartAddItem(itemData, onSuccess, onFail) {
  const url = "/cart/add.js";
  const dataType = "json";
  const data = {
    items: [
      {
        ...itemData,
      },
    ],
  };

  $.post(url, data, onSuccess, dataType).fail(onFail);
}

// Update Quantity
function cartUpdateItemQuantity(itemID, newQuantity, onSuccess, onFail) {
  const url = "/cart/change.js";
  const dataType = "json";
  const data = { id: itemID, quantity: newQuantity };

  $.post(url, data, onSuccess, dataType).fail(onFail);
}

// Remove Item
function cartRemoveItem(itemID, onSuccess, onFail) {
  const url = "/cart/change.js";
  const dataType = "json";
  const data = {
    id: itemID,
    quantity: 0,
  };

  $.post(url, data, onSuccess, dataType).fail(onFail);
}
