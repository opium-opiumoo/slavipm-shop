<div class="collection_top">
  <div class="collection_top_left">
    {% include "breadcrumb" %}
    {% if settings.show_contact_two %}
    <h1 class="contact">
          <span>CON</span>
          <span>TACT</span>
        </h1>
    {% else %}
    <h1>{{ settings.Contact_top_Title }}</h1>
    {% endif %}
    <p>{{ settings.Contact_top_despc }}</p>
  </div>
  <div class="collection_top_right">
    <img data-src="{{ settings.Contact_top_image | img_url : 'master' }}" class="lazyload">
  </div>
</div>
<div class="contact_fulls">
  <div class="contact_fulls_main">
    <div class="contact_fulls_left">
      <h3 class="desktop-view">{{ settings.contact_heading }}</h3>
      <h3 class="mobile-view">{{ settings.mobile_contact_heading }}</h3>
      <ul class="">
        {% for link in linklists[settings.contact_linklist].links %}
        <li><a href="{{ link.url }}"> <i class="fa fa-plus" aria-hidden="true"></i> {{ link.title }} </a></li>
        {% endfor %}
      </ul>
    </div>
    <div class="contact_fulls_right">
      <h3>{{ settings.contact_form_heading }}</h3>
       <div class="form-vertical">
    {% form 'contact' %}
      {% if form.posted_successfully? %}
        <p class="note form-success">
          {{ 'contact.form.post_success' | t }}
        </p>
      {% endif %}
          <div class="errors" style="display:none;">
             <ul></ul>
          </div>
      {{ form.errors | default_errors }}

      {% assign name_attr = 'contact.form.name' | t | handle %}
      <label for="ContactFormName" class="hidden-label" style="display:none;">{{ 'contact.form.name' | t }}</label>
      <input type="text" id="ContactFormName" class="input-full" name="contact[{{ name_attr }}]" placeholder="{{ 'contact.form.name' | t }}" autocapitalize="words" value="{% if form[name_attr] %}{{ form[name_attr] }}{% elsif customer %}{{ customer.name }}{% endif %}">

      <label for="ContactFormEmail" class="hidden-label" style="display:none;">Email address</label>
      <input type="email" id="ContactFormEmail" class="input-full" name="contact[email]" placeholder="{{ 'contact.form.email' | t }}" autocorrect="off" autocapitalize="off" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}">

      {% assign name_attr = 'contact.form.phone' | t | handle %}
      {% comment %}
      <label for="ContactFormPhone" class="hidden-label" style="display:none;">Subject</label>
      <input type="tel" id="ContactFormPhone" class="input-full" name="contact[{{ name_attr }}]" placeholder="Subject"  value="{% if form[name_attr] %}{{ form[name_attr] }}{% elsif customer %}{{ customer.phone }}{% endif %}">
	  {% endcomment %}
        
      <label for="ContactFormMessage" class="hidden-label" style="display:none;">{{ 'contact.form.message' | t }}</label>
      <textarea rows="9" id="ContactFormMessage" class="input-full" name="contact[body]" placeholder="What do you want to tell us?">{% if form.body %}{{ form.body }}{% endif %}</textarea>
		
		<!-- Start Recaptcha section -->
       <!--  <div class="section">
           <div class="section__content">
             <div class="fieldset">
               <div class="field field--required">
                 <script>
                   //<![CDATA[
                   var onCaptchaSuccess = function() {
                     var event;

                     try {
                       event = new Event('captchaSuccess', {bubbles: true, cancelable: true});
                     } catch (e) {
                       event = document.createEvent('Event');
                       event.initEvent('captchaSuccess', true, true);
                     }

                     window.dispatchEvent(event);
                   }

                   //]]>
                 </script>
                 <script>
                   //<![CDATA[
                   window.addEventListener('captchaSuccess', function() {
                     var responseInput = document.querySelector('.g-recaptcha-response');
                     var submitButton = document.querySelector('.dialog-submit');

                     if (submitButton instanceof HTMLElement) {
                       var needResponse = (responseInput instanceof HTMLElement);
                       var responseValueMissing = !responseInput.value;
                       submitButton.disabled = (needResponse && responseValueMissing);
                     }
                   }, false);

                   //]]>
                 </script>
                 <script>
                   //<![CDATA[
                   var recaptchaCallback = function() {
                     grecaptcha.render('g-recaptcha', {
                       sitekey: "6LeoeSkTAAAAAA9rkZs5oS82l69OEYjKRZAiKdaF",
                       size: (window.innerWidth > 320) ? 'normal' : 'compact',
                       callback: 'onCaptchaSuccess',
                     });


                   };

                   //]]>
                 </script>
                 <script src="https://www.recaptcha.net/recaptcha/api.js?onload=recaptchaCallback&amp;render=6LcCR2cUAAAAANS1Gpq_mDIJ2pQuJphsSQaUEuc9&amp;hl=en" async="async">
                   //<![CDATA[

                   //]]>
                 </script>
                 <noscript>
                   <div class="g-recaptcha-nojs">
                     <iframe class="g-recaptcha-nojs__iframe" frameborder="0" scrolling="no" src="https://www.google.com/recaptcha/api/fallback?k=6LeoeSkTAAAAAA9rkZs5oS82l69OEYjKRZAiKdaF"></iframe>
                     <div class="g-recaptcha-nojs__input-wrapper">
                       <textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-nojs__input"></textarea>
                     </div>
                   </div>
                 </noscript>
                 <div id="g-recaptcha" class="g-recaptcha"></div>
               </div>    
             </div>
           </div>
         </div>-->
		<!-- End Recaptcha section -->
	  <div id="re-captcha"></div>
      <button type="submit" id="contactFormSubmit" class="btn  create_button create_button_right" >{{ settings.contact_btn_text }} <i class="fa fa-chevron-right" aria-hidden="true"></i></button>
    
         
         
         {% endform %}
         
    </div>
    </div>
  </div>
</div>


{% comment %}
<!-- /templates/page.contact.liquid -->
{% comment %}

  This page template is a requirement if you are submitting your theme to the Shopify Theme Store.
  Be sure to select page.contact as the template from the admin page to have this template take effect.

  For information on adding more fields, visit:
    - http://docs.shopify.com/support/configuration/store-customization/adding-fields-to-the-liquid-contact-form

{% endcomment %}

<div class="grid--full text-max-width">
  <div>
    <div class="text-center content-wrapper--horizontal section-header">
      <div class="display-table-cell">
        <h1>{{ page.title }}</h1>
        {% include 'breadcrumb' %}
      </div>
    </div>
  </div>
  <hr class='hr--center'>
  <div class="rte">
    {{ page.content }}
  </div>
  <hr class="hr--clear">
  <div class="form-vertical">
    {% form 'contact' %}
      {% if form.posted_successfully? %}
        <p class="note form-success">
          {{ 'contact.form.post_success' | t }}
        </p>
      {% endif %}
      {{ form.errors | default_errors }}

      {% assign name_attr = 'contact.form.name' | t | handle %}
      <label for="ContactFormName" class="hidden-label">{{ 'contact.form.name' | t }}</label>
      <input type="text" id="ContactFormName" class="input-full" name="contact[{{ name_attr }}]" placeholder="{{ 'contact.form.name' | t }}" autocapitalize="words" value="{% if form[name_attr] %}{{ form[name_attr] }}{% elsif customer %}{{ customer.name }}{% endif %}">

      <label for="ContactFormEmail" class="hidden-label">{{ 'contact.form.email' | t }}</label>
      <input type="email" id="ContactFormEmail" class="input-full" name="contact[email]" placeholder="{{ 'contact.form.email' | t }}" autocorrect="off" autocapitalize="off" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}">

      {% assign name_attr = 'contact.form.phone' | t | handle %}
      <label for="ContactFormPhone" class="hidden-label">{{ 'contact.form.phone' | t }}</label>
      <input type="tel" id="ContactFormPhone" class="input-full" name="contact[{{ name_attr }}]" placeholder="{{ 'contact.form.phone' | t }}" pattern="[0-9\-]*" value="{% if form[name_attr] %}{{ form[name_attr] }}{% elsif customer %}{{ customer.phone }}{% endif %}">

      <label for="ContactFormMessage" class="hidden-label">{{ 'contact.form.message' | t }}</label>
      <textarea rows="10" id="ContactFormMessage" class="input-full" name="contact[body]" placeholder="{{ 'contact.form.message' | t }}">{% if form.body %}{{ form.body }}{% endif %}</textarea>

      <button type="submit" class="btn right">{{ 'contact.form.send' | t }}</button>
    {% endform %}
    </div>
</div>

{% endcomment %}

<script>
  $(document).ready(function(){  

    $('#contact .contact-form').submit(function(){
     //e.preventDefault();
      var flag = 1;
      var result=true;
      var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
       var phoneno = /^[a-zA-Z0-9]+$/;
      var name = $('#ContactFormName').val();
      var email = $('#ContactFormEmail').val();
       var phone = $('#ContactFormPhone').val();
      var message = $('#ContactFormMessage').val();
      
      var msg = '';
      if(name==''){
        flag=0;
        msg += '<li>Please enter the name</li>';
      }
      
      if(!regex.test(email)){
        flag=0;
        msg += '<li>Invalid email address</li>';
      }
      
      if(!phoneno.test(phone)){
        flag=0;
        msg += '<li>Invalid Subject</li>';
      }
      
      if(message==''){
        flag=0;
        msg += '<li>Please enter the comments</li>';
      }       
      
 	 
      
      if(flag == '1'){
       	$('#contact .contact-form').attr('action','/contact#contact_form')
         return result;
      }
        
	else{
      //console.log("error");
      	$('.errors ul').html('');
      	$('.errors ul').html(msg);
        $('.errors').show();
            $('html, body').animate({
            scrollTop: $(".contact_fulls").offset().top - 70
        }, 500);
        return false;
      }
      
   });
    
     var test = window.location.href ;
          if( test.indexOf('contact_posted=true') >= 0)
          {
              $('html, body').animate({
                      scrollTop: $(".contact_fulls").offset().top- 70  
              }, 1000);

          }
   
  });
</script>